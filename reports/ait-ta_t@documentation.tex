\chapter{Utilitaire de segmentation: seg}

\section{Introduction}
  L'éxecutable \emph{seg} permet de segmenter une image
prétraitée. Il fournit une image de prévisualisation
des blocs segmentés ainsi qu'un fichier xml contenant
la structure du document et les données.

\section{Installation de seg}
  \begin{enumerate}
    \item Placez vous dans le répertoire principal de l'OCR.
    \item Tapez la commande \verb!make! dans votre terminal.
    \item Patientez durant l'installation.
    \item L'installation est finie. Elle a créé un répertoire
          \verb!/bin! contenant l'éxecutable \emph{seg}.
  \end{enumerate}
  
P.S.: La commande \verb!make! permet l'installation de tous les
utilitaires présents dans l'OCR.

\section{Désinstallation de seg}
  \begin{enumerate}
    \item Placez vous dans le répertoire principal de l'OCR.
    \item Tapez la commande \verb!make clean! dans votre terminal.
    \item Patientez durant la désinstallation.
    \item Pour finir la désinstallation, tapez la commande
          \verb!make cleanc! dans votre terminal.
    \item La désinstallation est finie. Elle a supprimé le
          répertoire \verb!/bin! .
  \end{enumerate}

\section{Fonctionnement de seg}
  L'utilitaire \emph{seg} a pour but d'analyser une image prétraitée et
  d'en extraire le texte. Le programme gère des fichiers images de type
  bitmap (bmp). Cette éxecutable prend en paramètre plusieurs options:
    \begin{itemize}
      \item -i [file] : permet de spécifier le fichier bitmap que le
            programme devra analyser.
      \item -o [file] : permet de spécifier le nom du fichier bitmap de
            prévisualisation que produira le programme.
      \item -v : permet d'afficher les informations du processus
            réalisé par le programme (verbose).
      \item -h : permet d'afficher l'aide de l'utilitaire.
    \end{itemize}
  
  Voici un exemple d'utilisation du programme:
    \begin{enumerate}
      \item Placez vous dans le répertoire principal de l'OCR.
      \item Changez de répertoire en tapant la commande
            \verb!cd /bin!
      \item Tapez ensuite la commande \verb!./seg -i myfile.bmp -o preview.bmp!
            où myfile.bmp est le fichier à analyser.
      \item Le programme s'éxecute. Si vous avez rajouté l'option -v
            (verbose) vous verez s'afficher les étapes réalisées par le
            programme.
      \item Dans ce cas-ci, le programme a analysé l'image \verb!myfile.bmp!
            et à générer dans le répertoire \verb!/bin! le fichier \verb!preview.bmp!
            ainsi que le fichier \verb!seg_report.xml! utile pour les autres
            utilitaires.
    \end{enumerate}

\section{Conseils d'utilisation}
  Nous vous conseillons d'utiliser \emph{seg} avec des images produites
par l'utilitaire de prétraitement \emph{OCRed}, générées par exemple par
cette ligne de commande à taper dans votre terminal au niveau du
répertoire \verb!/bin!: \verb!./OCRed -i myimage.jpg -o myfile.bmp -s 150!